
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>TITLE</title>
        <style>
            html,
            body,
            canvas {
                margin: 0px;
                padding: 0px;
                width: 100%;
                height: 100%;
                overflow: hidden;
                position: absolute;
                background: black;
                z-index: 0;
            }
        </style>
    </head>
    
    <body>
        <canvas id="glcanvas" tabindex='1'></canvas>
        <script src="https://not-fl3.github.io/miniquad-samples/gl.js"></script>
        <script src="https://not-fl3.github.io/miniquad-samples/sapp_jsutils.js"></script>
    
        <script>
        register_plugin = function (importObject) {
            // make send_board() function available to call from rust
            importObject.env.send_board = send_board;
        }
        
        // register this plugin in miniquad, required to make plugin's functions available from rust
        miniquad_add_plugin({ register_plugin });
        
        function send_board(board_string) {
            // call rust function returning a string
            let formatted_board_string = consume_js_object(board_string);
        
            //alert(formatted_board_string);
            window.open('mailto:opponent_email?subject=c123&body='+formatted_board_string);
        
        };
    
        load("target/my_chess.wasm");
        
        </script>
    </body>
    
    </html>    